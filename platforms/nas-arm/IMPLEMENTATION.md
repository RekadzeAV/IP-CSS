# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è NAS ARM –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** –î–µ–∫–∞–±—Ä—å 2025
**–í–µ—Ä—Å–∏—è:** Alfa-0.0.1
**–°—Ç–∞—Ç—É—Å:** –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è NAS ARM –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:

```
platforms/nas-arm/
‚îú‚îÄ‚îÄ server/              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ application.conf # Ktor –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ config.yaml      # YAML –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ README.md        # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docker/              # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile.arm64 # Dockerfile –¥–ª—è ARM64
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.yml
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ packages/            # –ü–∞–∫–µ—Ç—ã –¥–ª—è NAS —Å–∏—Å—Ç–µ–º
    ‚îú‚îÄ‚îÄ synology/        # Synology SPK
    ‚îú‚îÄ‚îÄ qnap/            # QNAP QPKG
    ‚îî‚îÄ‚îÄ asustor/         # Asustor APK
```

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- **application.conf** - Ktor server configuration (HOCON)
- **config.yaml** - Application configuration (YAML)

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- JWT_SECRET
- DATABASE_PATH
- RECORDINGS_PATH
- SCREENSHOTS_PATH
- REDIS_HOST/PORT
- CORS_ALLOWED_ORIGINS

### 3. Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- **Dockerfile.arm64** - Multi-stage build –¥–ª—è ARM64
- **docker-compose.yml** - –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å API, Web –∏ Redis

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- Multi-stage build –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–∞
- ARM64 –±–∞–∑–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã (arm64v8/eclipse-temurin, arm64v8/redis)
- Health checks –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- Volume mounts –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∏ –ª–æ–≥–æ–≤
- –°–µ—Ç—å –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏

### 4. –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞/–æ—Å—Ç–∞–Ω–æ–≤–∫–∏

–£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –≤—Å–µ—Ö NAS —Å–∏—Å—Ç–µ–º:

#### Synology
- `packages/synology/package/bin/start.sh`
- `packages/synology/package/bin/stop.sh`

#### QNAP
- `packages/qnap/scripts/start.sh`
- `packages/qnap/scripts/stop.sh`

#### Asustor
- `packages/asustor/package/bin/start.sh`
- `packages/asustor/package/bin/stop.sh`

–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –≤–∫–ª—é—á–∞—é—Ç:
- –ü—Ä–æ–≤–µ—Ä–∫—É Java
- –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PID —Ñ–∞–π–ª–∞–º–∏
- Graceful shutdown
- –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

### 5. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ NAS —Å–∏—Å—Ç–µ–º—ã

- ‚úÖ Synology DSM (ARM64)
- ‚úÖ QNAP QTS (ARM64)
- ‚úÖ Asustor ADM (ARM64)

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö NAS —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∫–æ–Ω–æ–∫ –¥–ª—è –ø–∞–∫–µ—Ç–æ–≤
3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å NAS API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏
5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏ –ø–∞–∫–µ—Ç–æ–≤

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–±–æ—Ä–∫–∞ –ø–∞–∫–µ—Ç–æ–≤

```bash
# Synology
./scripts/build-nas-package.sh synology arm64 Alfa-0.0.1

# QNAP
./scripts/build-nas-package.sh qnap arm64 Alfa-0.0.1

# Asustor
./scripts/build-nas-package.sh asustor arm64 Alfa-0.0.1
```

### Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```bash
cd platforms/nas-arm/docker
docker-compose up -d
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [README.md](README.md) - –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
- [server/README.md](server/README.md) - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞
- [docker/README.md](docker/README.md) - Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- [packages/README.md](packages/README.md) - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–∫–µ—Ç–∞—Ö

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Java 17 –∏–ª–∏ –≤—ã—à–µ (ARM64)
- Node.js 18+ (–¥–ª—è Web UI, ARM64)
- FFmpeg (–¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ, ARM64)
- Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, ARM64)

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –ø—É—Ç–∏ –∫ –¥–∞–Ω–Ω—ã–º –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ NAS —Å–∏—Å—Ç–µ–º
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –°–∫—Ä–∏–ø—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∫–∞–∫ —Å–∏—Å—Ç–µ–º—É systemd, —Ç–∞–∫ –∏ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ init —Å–∫—Ä–∏–ø—Ç—ã
- Docker –æ–±—Ä–∞–∑—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç ARM64 —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –±–∞–∑–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã
