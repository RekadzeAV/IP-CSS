# Руководство оператора IP-CSS

**Версия проекта:** Alfa-0.0.1
**Последнее обновление:** Декабрь 2025

---

## Оглавление

1. [Введение](#введение)
2. [Поддерживаемые платформы](#поддерживаемые-платформы)
3. [Вход в систему](#вход-в-систему)
4. [Работа с камерами](#работа-с-камерами)
5. [Просмотр видео в реальном времени](#просмотр-видео-в-реальном-времени)
6. [Управление записями](#управление-записями)
7. [Работа с событиями](#работа-с-событиями)
8. [Управление PTZ камерами](#управление-ptz-камерами)
9. [Настройки оператора](#настройки-оператора)
10. [Устранение неполадок](#устранение-неполадок)

---

## Введение

Данное руководство предназначено для операторов системы видеонаблюдения IP-CSS, которые ежедневно работают с системой для мониторинга, управления камерами и обработки событий.

### Роль оператора

Оператор имеет доступ к следующим функциям:
- Просмотр камер в реальном времени
- Управление камерами (добавление, редактирование, удаление)
- Просмотр и экспорт записей
- Управление событиями (просмотр, подтверждение, фильтрация)
- Управление PTZ камерами
- Настройка уведомлений
- Просмотр статистики и отчетов

**Ограничения:**
- Не может управлять пользователями
- Не может изменять системные настройки

---

## Поддерживаемые платформы

### Веб-интерфейс

**Доступ:** Через веб-браузер на любом устройстве

**Поддерживаемые браузеры:**
- Chrome/Edge 90+
- Firefox 88+
- Safari 14+
- Opera 76+

**Платформы:**
- Windows, Linux, macOS (x86_64, ARM64)
- Android, iOS (через мобильный браузер)

**URL:** `http://<IP-адрес>:8080` или `https://<IP-адрес>:8443`

### Мобильные приложения

#### Android
- **Архитектуры:** ARM, ARM64, x86, x86_64
- **Версия ОС:** Android 8.0+ (API 26+)
- **Установка:** Google Play Store или APK

#### iOS
- **Архитектуры:** ARM64 (Apple Silicon)
- **Версия ОС:** iOS 14.0+
- **Установка:** App Store или TestFlight

### Desktop приложения

#### Windows
- **Архитектура:** x86_64
- **Версия ОС:** Windows 10/11
- **Установка:** Microsoft Store или установщик

#### Linux
- **Архитектуры:** x86_64, ARM64
- **Дистрибутивы:** Ubuntu, Debian, Fedora и др.
- **Установка:** Пакетные менеджеры или установщик

#### macOS
- **Архитектуры:** x86_64 (Intel), ARM64 (Apple Silicon)
- **Версия ОС:** macOS 11.0+
- **Установка:** App Store или установщик

---

## Вход в систему

### Веб-интерфейс

1. Откройте браузер и перейдите по адресу системы
2. Введите **Логин** и **Пароль**
3. Нажмите **Войти**

### Мобильное приложение

1. Запустите приложение
2. Введите адрес сервера (IP или доменное имя)
3. Введите **Логин** и **Пароль**
4. Нажмите **Войти**

### Desktop приложение

1. Запустите приложение
2. При первом запуске введите адрес сервера
3. Введите **Логин** и **Пароль**
4. Нажмите **Войти**
5. При необходимости сохраните учетные данные

---

## Работа с камерами

### Просмотр списка камер

1. Перейдите в раздел **Камеры**
2. Список камер отображается в виде карточек или таблицы
3. Для каждой камеры отображается:
   - Название
   - Статус (ONLINE, OFFLINE, ERROR, CONNECTING)
   - Миниатюра последнего кадра
   - Количество активных событий

### Фильтрация камер

Используйте фильтры для поиска нужных камер:
- **По статусу:** ONLINE, OFFLINE, ERROR
- **По названию:** поиск по тексту
- **По группе:** если камеры организованы в группы
- **По местоположению:** если указано местоположение

### Добавление новой камеры

1. Нажмите **Добавить камеру**
2. Выберите способ:
   - **Автообнаружение** - система найдет камеры в сети
   - **Вручную** - введите параметры
3. Заполните форму:
   - **Название:** отображаемое имя
   - **RTSP URL:** `rtsp://username:password@ip:port/stream`
   - **ONVIF URL:** (опционально) для управления PTZ
   - **Учетные данные:** логин и пароль
4. Нажмите **Тест подключения** для проверки
5. Нажмите **Сохранить**

### Редактирование камеры

1. Откройте карточку камеры
2. Нажмите **Редактировать**
3. Измените необходимые параметры
4. Нажмите **Сохранить**

### Удаление камеры

1. Откройте карточку камеры
2. Нажмите **Удалить**
3. Подтвердите удаление

**⚠️ Внимание:** При удалении камеры все связанные записи и события останутся в системе, но будут недоступны для просмотра через интерфейс камеры.

### Настройка камеры

#### Настройки записи

1. Откройте камеру → **Настройки** → **Запись**
2. Выберите режим:
   - **Непрерывная запись** - запись 24/7
   - **Запись по событиям** - только при обнаружении движения/объектов
   - **Запись по расписанию** - в указанное время
3. Настройте качество:
   - **Разрешение:** 720p, 1080p, 4K
   - **Битрейт:** автоматически или вручную
   - **FPS:** кадров в секунду
4. Нажмите **Сохранить**

#### Настройки аналитики

1. Откройте камеру → **Настройки** → **Аналитика**
2. Включите/выключите функции:
   - **Детекция движения:** включить, настроить чувствительность
   - **Детекция объектов:** выбрать типы (человек, автомобиль, животное)
   - **ANPR** (распознавание номеров): включить/выключить
   - **Распознавание лиц:** включить/выключить
3. Нажмите **Сохранить**

#### Настройки уведомлений

1. Откройте камеру → **Настройки** → **Уведомления**
2. Выберите типы событий для уведомлений:
   - Детекция движения
   - Детекция объектов
   - ANPR события
   - Распознавание лиц
3. Выберите каналы уведомлений:
   - Push-уведомления
   - Email
   - SMS
   - Telegram
4. Нажмите **Сохранить**

---

## Просмотр видео в реальном времени

### Открытие видеопотока

1. Откройте карточку камеры
2. Нажмите **Просмотр** или кликните на миниатюру
3. Видеопоток откроется в отдельном окне или встроенном плеере

### Управление видеоплеером

- **Воспроизведение/Пауза:** кнопка Play/Pause
- **Полноэкранный режим:** кнопка Fullscreen
- **Звук:** включить/выключить, регулировка громкости
- **Качество:** выбор качества потока (если доступно несколько)
- **Скриншот:** сохранение текущего кадра

### Многокамерный просмотр

1. Перейдите в **Просмотр** → **Многокамерный**
2. Выберите макет:
   - 1 камера (полноэкранный)
   - 4 камеры (2x2)
   - 9 камер (3x3)
   - 16 камер (4x4)
3. Выберите камеры для отображения
4. Камеры можно перетаскивать для изменения позиции

### Запись в реальном времени

Во время просмотра можно начать запись:
1. Нажмите кнопку **Запись**
2. Запись начнется и будет сохранена в разделе **Записи**
3. Для остановки нажмите **Стоп**

---

## Управление записями

### Просмотр записей

1. Перейдите в раздел **Записи**
2. Записи отображаются в виде списка или календаря
3. Для каждой записи отображается:
   - Камера
   - Дата и время начала/окончания
   - Длительность
   - Размер файла
   - Миниатюра

### Поиск записей

Используйте фильтры для поиска:
- **По камере:** выберите одну или несколько камер
- **По дате:** выберите диапазон дат
- **По типу события:** если запись связана с событием
- **По объектам:** если включена аналитика

### Просмотр записи

1. Откройте запись из списка
2. Видеоплеер откроется с записью
3. Используйте элементы управления:
   - **Воспроизведение/Пауза**
   - **Перемотка:** перетаскивание ползунка
   - **Скорость воспроизведения:** 0.5x, 1x, 1.5x, 2x
   - **Кадр за кадром:** для детального просмотра
   - **Звук:** включить/выключить

### Экспорт записи

1. Откройте запись
2. Нажмите **Экспорт**
3. Выберите параметры:
   - **Формат:** MP4, AVI, MKV
   - **Качество:** оригинал, высокое, среднее, низкое
   - **Диапазон:** весь файл или выбранный фрагмент
   - **Водяной знак:** добавить/не добавлять
4. Нажмите **Экспортировать**
5. Дождитесь завершения и скачайте файл

### Удаление записей

1. Выберите записи в списке (можно несколько)
2. Нажмите **Удалить**
3. Подтвердите удаление

**⚠️ Внимание:** Удаленные записи нельзя восстановить!

---

## Работа с событиями

### Просмотр событий

1. Перейдите в раздел **События**
2. События отображаются в хронологическом порядке
3. Для каждого события отображается:
   - Тип события (движение, объект, ANPR, лицо)
   - Камера
   - Дата и время
   - Миниатюра
   - Статус (новое, просмотренное, подтвержденное)

### Фильтрация событий

Используйте фильтры:
- **По типу:** движение, объект, ANPR, лицо
- **По камере:** выберите одну или несколько камер
- **По дате:** выберите диапазон
- **По статусу:** новое, просмотренное, подтвержденное
- **По важности:** низкая, средняя, высокая

### Просмотр деталей события

1. Откройте событие из списка
2. Откроется детальная информация:
   - Видео события (если доступно)
   - Миниатюры до и после события
   - Детектированные объекты (если включена аналитика)
   - Метаданные (координаты, размеры объектов)
3. Можно просмотреть связанную запись

### Подтверждение событий

1. Откройте событие
2. Нажмите **Подтвердить**
3. При необходимости добавьте комментарий
4. Событие будет помечено как подтвержденное

**Массовое подтверждение:**
1. Выберите несколько событий в списке
2. Нажмите **Подтвердить выбранные**
3. Все выбранные события будут подтверждены

### Экспорт событий

1. Выберите события (можно использовать фильтры)
2. Нажмите **Экспорт**
3. Выберите формат:
   - **CSV** - таблица с данными
   - **PDF** - отчет с миниатюрами
   - **Видео** - экспорт видео событий
4. Нажмите **Экспортировать**

---

## Управление PTZ камерами

### PTZ управление

Если камера поддерживает PTZ (Pan-Tilt-Zoom):

1. Откройте видеопоток камеры
2. Включите режим PTZ управления
3. Используйте элементы управления:
   - **Стрелки** - поворот камеры (вверх, вниз, влево, вправо)
   - **Колесо мыши** или **+/-** - увеличение/уменьшение
   - **Предустановки** - быстрый переход к сохраненным позициям

### Предустановки PTZ

1. Установите камеру в нужную позицию
2. Нажмите **Сохранить предустановку**
3. Введите название
4. Предустановка будет доступна для быстрого перехода

### Паттерны PTZ

Некоторые камеры поддерживают паттерны (автоматическое движение):
1. Откройте настройки камеры → **PTZ** → **Паттерны**
2. Выберите паттерн из списка или создайте новый
3. Нажмите **Запустить паттерн**

### Автотрекинг

Если камера поддерживает автотрекинг:
1. Откройте настройки камеры → **PTZ** → **Автотрекинг**
2. Включите автотрекинг
3. Настройте параметры:
   - Типы объектов для отслеживания
   - Скорость движения
   - Зоны отслеживания

---

## Настройки оператора

### Профиль пользователя

1. Перейдите в **Профиль** (иконка пользователя)
2. Измените информацию:
   - Полное имя
   - Email
   - Пароль
3. Нажмите **Сохранить**

### Настройки уведомлений

1. Перейдите в **Настройки** → **Уведомления**
2. Выберите каналы уведомлений:
   - **Push-уведомления:** в приложении
   - **Email:** на электронную почту
   - **SMS:** на телефон (если настроено)
   - **Telegram:** в Telegram бот (если настроено)
3. Выберите типы событий для уведомлений
4. Нажмите **Сохранить**

### Настройки интерфейса

1. Перейдите в **Настройки** → **Интерфейс**
2. Настройте:
   - **Тема:** светлая, темная, автоматическая
   - **Язык:** выберите язык интерфейса
   - **Часовой пояс:** для корректного отображения времени
   - **Формат даты/времени**
3. Нажмите **Сохранить**

### Настройки просмотра

1. Перейдите в **Настройки** → **Просмотр**
2. Настройте:
   - **Качество по умолчанию:** для видеопотоков
   - **Автозапуск:** автоматическое воспроизведение при открытии
   - **Буферизация:** настройки буфера
3. Нажмите **Сохранить**

---

## Устранение неполадок

### Камера не отображается

**Проблема:** Камера показывает статус "OFFLINE" или черный экран

**Решения:**
1. Проверьте подключение камеры к сети
2. Проверьте RTSP URL и учетные данные
3. Попробуйте перезагрузить камеру
4. Обратитесь к администратору для проверки настроек

### Видео тормозит или прерывается

**Проблема:** Видеопоток работает с задержками или прерывается

**Решения:**
1. Проверьте скорость интернет-соединения
2. Снизьте качество видеопотока
3. Закройте другие приложения, использующие сеть
4. Обратитесь к администратору для проверки сервера

### Записи не найдены

**Проблема:** Не удается найти нужную запись

**Решения:**
1. Проверьте фильтры поиска
2. Расширьте диапазон дат
3. Убедитесь, что запись не была удалена
4. Обратитесь к администратору

### События не приходят

**Проблема:** Не получаете уведомления о событиях

**Решения:**
1. Проверьте настройки уведомлений в профиле
2. Убедитесь, что уведомления включены для камеры
3. Проверьте настройки аналитики на камере
4. Обратитесь к администратору для проверки системы уведомлений

### Проблемы с PTZ управлением

**Проблема:** PTZ управление не работает

**Решения:**
1. Убедитесь, что камера поддерживает PTZ
2. Проверьте ONVIF URL в настройках камеры
3. Проверьте учетные данные для ONVIF
4. Обратитесь к администратору

---

## Дополнительные ресурсы

- [USER_GUIDE.md](USER_GUIDE.md) - Руководство для пользователей
- [ADMINISTRATOR_GUIDE.md](ADMINISTRATOR_GUIDE.md) - Руководство для администраторов
- [API.md](API.md) - REST API документация (для интеграций)

---

**Версия документа:** Alfa-0.0.1
**Последнее обновление:** Декабрь 2025

