# –ü–ª–∞–Ω —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–î–∞—Ç–∞ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è:** –î–µ–∫–∞–±—Ä—å 2024
**–í–µ—Ä—Å–∏—è:** Alfa-0.0.1
**–û—Å–Ω–æ–≤–∞–Ω –Ω–∞:** SECURITY_AUDIT_REPORT.md

---

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ IP Camera Surveillance System. –ü–ª–∞–Ω —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ —Ç—Ä–∏ —Ñ–∞–∑—ã –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 8-12 –Ω–µ–¥–µ–ª—å –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π

---

## –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ (–ù–µ–¥–µ–ª–∏ 1-4)

**–¶–µ–ª—å:** –£—Å—Ç—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏, –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ.

### –ó–∞–¥–∞—á–∞ 1.1: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 1-2 –Ω–µ–¥–µ–ª–∏
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**
   ```kotlin
   // –í server/api/build.gradle.kts
   implementation("io.ktor:ktor-server-auth:2.3.5")
   implementation("io.ktor:ktor-server-auth-jwt:2.3.5")
   implementation("com.auth0:java-jwt:4.4.0")
   ```

2. **–°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é JWT**
   - –§–∞–π–ª: `server/api/src/main/kotlin/com/company/ipcamera/server/config/JwtConfig.kt`
   - –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ access token (15-30 –º–∏–Ω—É—Ç)
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ refresh token (7-30 –¥–Ω–µ–π)

3. **–°–æ–∑–¥–∞—Ç—å middleware –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**
   - –§–∞–π–ª: `server/api/src/main/kotlin/com/company/ipcamera/server/middleware/AuthMiddleware.kt`
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ Application.module()
   - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –≤—Å–µ—Ö –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–∞—Ö

4. **–°–æ–∑–¥–∞—Ç—å endpoints –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**
   - –§–∞–π–ª: `server/api/src/main/kotlin/com/company/ipcamera/server/routing/AuthRoutes.kt`
   - POST /api/v1/auth/login - –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
   - POST /api/v1/auth/refresh - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
   - POST /api/v1/auth/logout - –≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
   - POST /api/v1/auth/register - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

5. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤ (RBAC)**
   - –°–æ–∑–¥–∞—Ç—å enum –¥–ª—è —Ä–æ–ª–µ–π –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
   - –§–∞–π–ª: `server/api/src/main/kotlin/com/company/ipcamera/server/security/Role.kt`
   - –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤ –≤ –º–∞—Ä—à—Ä—É—Ç—ã

6. **–û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã**
   - –§–∞–π–ª: `server/api/src/main/kotlin/com/company/ipcamera/server/routing/CameraRoutes.kt`
   - –î–æ–±–∞–≤–∏—Ç—å `authenticate("jwt-auth")` –∫–æ –≤—Å–µ–º –º–∞—Ä—à—Ä—É—Ç–∞–º
   - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ ADMIN –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å)
   - –ò—Å–∫–ª—é—á–∏—Ç—å —Ç–æ–ª—å–∫–æ `/health` –∏–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

7. **–°–æ–∑–¥–∞—Ç—å middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤**
   - –§–∞–π–ª: `server/api/src/main/kotlin/com/company/ipcamera/server/middleware/AuthorizationMiddleware.kt`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

8. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - Unit —Ç–µ—Å—Ç—ã –¥–ª—è JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
   - Integration —Ç–µ—Å—Ç—ã –¥–ª—è endpoints –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - –¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ endpoints —Ç—Ä–µ–±—É—é—Ç –≤–∞–ª–∏–¥–Ω—ã–π JWT —Ç–æ–∫–µ–Ω
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Refresh token –º–µ—Ö–∞–Ω–∏–∑–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `server/api/build.gradle.kts`
- `server/api/src/main/kotlin/com/company/ipcamera/server/Application.kt`
- –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è auth infrastructure
- `server/api/src/main/kotlin/com/company/ipcamera/server/routing/*.kt`

---

### –ó–∞–¥–∞—á–∞ 1.2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 2-3 –¥–Ω—è
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** DevOps/SRE –∏–Ω–∂–µ–Ω–µ—Ä

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–£–¥–∞–ª–∏—Ç—å –æ–ø–∞—Å–Ω—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏**
   - –£–¥–∞–ª–∏—Ç—å `cap_add: - SYS_ADMIN`
   - –£–¥–∞–ª–∏—Ç—å `security_opt: - seccomp:unconfined`
   - –û—Ü–µ–Ω–∏—Ç—å, –Ω—É–∂–Ω—ã –ª–∏ –∫–∞–∫–∏–µ-–ª–∏–±–æ capabilities (—Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –Ω–µ—Ç)

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å read-only —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É**
   ```yaml
   read_only: true
   tmpfs:
     - /tmp
     - /var/tmp
     - /app/tmp
   ```

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å non-root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**
   ```yaml
   user: "1000:1000"  # –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Dockerfile
   ```

4. **–°–æ–∑–¥–∞—Ç—å Dockerfile —Å non-root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º**
   ```dockerfile
   RUN groupadd -r appuser && useradd -r -g appuser appuser
   USER appuser
   ```

5. **–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å volumes —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ volumes –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ volumes –≤–º–µ—Å—Ç–æ bind mounts –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ

6. **–î–æ–±–∞–≤–∏—Ç—å network policies**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–∑–æ–ª—è—Ü–∏—é —Å–µ—Ç–µ–π
   - –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

7. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–æ–≤—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ SYS_ADMIN

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ SYS_ADMIN
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ seccomp:unconfined
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç non-root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `docker-compose.yml`
- `Dockerfile` (–µ—Å–ª–∏ –µ—Å—Ç—å, –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å)

---

### –ó–∞–¥–∞—á–∞ 1.3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è certificate pinning –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ TLS

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 1-2 –Ω–µ–¥–µ–ª–∏
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Mobile/Network —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è certificate pinning**
   - –§–∞–π–ª: `core/network/src/commonMain/kotlin/com/company/ipcamera/core/network/security/CertificatePinner.kt`
   - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å expect/actual –º–µ—Ö–∞–Ω–∏–∑–º

2. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è Android**
   - –§–∞–π–ª: `core/network/src/androidMain/kotlin/com/company/ipcamera/core/network/security/CertificatePinner.android.kt`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OkHttp CertificatePinner –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π TrustManager
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Ktor HttpClient —á–µ—Ä–µ–∑ OkHttp engine

3. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è iOS**
   - –§–∞–π–ª: `core/network/src/iosMain/kotlin/com/company/ipcamera/core/network/security/CertificatePinner.ios.kt`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NSURLSession certificate pinning
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Ktor HttpClient —á–µ—Ä–µ–∑ Darwin engine

4. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è Desktop/JVM**
   - –§–∞–π–ª: `core/network/src/jvmMain/kotlin/com/company/ipcamera/core/network/security/CertificatePinner.jvm.kt`
   - –°–æ–∑–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π TrustManager
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å fingerprint —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ ApiClient**
   - –§–∞–π–ª: `core/network/src/commonMain/kotlin/com/company/ipcamera/core/network/ApiClient.kt`
   - –î–æ–±–∞–≤–∏—Ç—å certificate pinner –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
   - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫ HttpClient –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

6. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤**
   - –î–æ–±–∞–≤–∏—Ç—å SHA-256 fingerprints —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
   - –°–æ–∑–¥–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
   - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –¥–æ–º–µ–Ω–æ–≤

7. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é TLS**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ TLS 1.2+
   - –ó–∞–ø—Ä–µ—Ç–∏—Ç—å SSL –∏ TLS 1.0/1.1

8. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - Unit —Ç–µ—Å—Ç—ã –¥–ª—è certificate pinner
   - Integration —Ç–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
   - –¢–µ—Å—Ç—ã –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ Certificate pinning —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö
- ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è –ø—Ä–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ TLS 1.2+
- ‚úÖ –ï—Å—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `core/network/src/commonMain/kotlin/com/company/ipcamera/core/network/ApiClient.kt`
- –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è certificate pinning –Ω–∞ –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
- `core/network/build.gradle.kts` (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)

---

### –ó–∞–¥–∞—á–∞ 1.4: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π –∫–∞–º–µ—Ä

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 1-2 –Ω–µ–¥–µ–ª–∏
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Mobile/Platform —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

#### –î–ª—è Android:

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Android Keystore –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–∞**
   - –§–∞–π–ª: `core/common/src/androidMain/kotlin/com/company/ipcamera/core/common/security/PasswordEncryption.android.kt`
   - –°–æ–∑–¥–∞—Ç—å –∫–ª—é—á –≤ Android Keystore –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å KeyGenParameterSpec –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–ª—é—á–∞
   - –ö–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

2. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π**
   - –ï—Å–ª–∏ –∫–ª—é—á —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Å—Ç–∞—Ä–æ–º —Ñ–æ—Ä–º–∞—Ç–µ, –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
   - –ü–µ—Ä–µ—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –Ω–æ–≤—ã–º –∫–ª—é—á–æ–º

3. **–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫**
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ Keystore –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ (–±–µ–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

#### –î–ª—è iOS:

1. **–ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Keychain Services**
   - –§–∞–π–ª: `core/common/src/iosMain/kotlin/com/company/ipcamera/core/common/security/PasswordEncryption.ios.kt`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SecKey API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–∞
   - –•—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á –≤ Keychain —Å kSecAttrAccessibleWhenUnlockedThisDeviceOnly
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Touch ID/Face ID –¥–ª—è –∑–∞—â–∏—Ç—ã –∫–ª—é—á–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

2. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö**
   - –ü–µ—Ä–µ—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–æ–ª–∏

#### –î–ª—è Desktop/JVM:

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Java KeyStore**
   - –§–∞–π–ª: `core/common/src/desktopMain/kotlin/com/company/ipcamera/core/common/security/PasswordEncryption.jvm.kt`
   - –°–æ–∑–¥–∞—Ç—å JKS —Ñ–∞–π–ª –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–ª—é—á–∞
   - –ó–∞—â–∏—Ç–∏—Ç—å KeyStore –ø–∞—Ä–æ–ª–µ–º
   - –•—Ä–∞–Ω–∏—Ç—å KeyStore –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ (Application Data)

2. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: —Ñ–∞–π–ª –∫–ª—é—á–µ–π —Å –∑–∞—â–∏—Ç–æ–π**
   - –ï—Å–ª–∏ KeyStore –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª
   - –®–∏—Ñ—Ä–æ–≤–∞—Ç—å –∫–ª—é—á —Å –ø–æ–º–æ—â—å—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–∞—Ä–æ–ª—è
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PBKDF2 –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

3. **–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**
   - –ü–µ—Ä–µ—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–æ–ª–∏

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö**
   - Unit —Ç–µ—Å—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª—é—á–µ–π
   - –¢–µ—Å—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
   - –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –ö–ª—é—á–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Keystore/Keychain/JKS
- ‚úÖ –ö–ª—é—á–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `core/common/src/androidMain/kotlin/com/company/ipcamera/core/common/security/PasswordEncryption.android.kt`
- `core/common/src/iosMain/kotlin/com/company/ipcamera/core/common/security/PasswordEncryption.ios.kt`
- `core/common/src/desktopMain/kotlin/com/company/ipcamera/core/common/security/PasswordEncryption.jvm.kt`

---

### –ó–∞–¥–∞—á–∞ 1.5: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CORS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 1 –¥–µ–Ω—å
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–£–¥–∞–ª–∏—Ç—å anyHost() –∏ —É–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–º–µ–Ω—ã**
   - –§–∞–π–ª: `server/api/src/main/kotlin/com/company/ipcamera/server/Application.kt`
   - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   - –î–æ–±–∞–≤–∏—Ç—å production –∏ development –¥–æ–º–µ–Ω—ã

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏**
   - –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å allowCredentials = true —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

3. **–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å HTTP –º–µ—Ç–æ–¥—ã**
   - –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ GET, POST, PUT, DELETE
   - –ù–µ —Ä–∞–∑—Ä–µ—à–∞—Ç—å OPTIONS –¥–ª—è –≤—Å–µ—Ö (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å preflight)

4. **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é Origin**
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å Origin –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∑–∞–ø—Ä–æ—Å–∞
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

5. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π**
   - –†–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è dev/staging/production
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –¢–µ—Å—Ç—ã CORS headers
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å —Ä–∞–∑–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ anyHost() —É–¥–∞–ª–µ–Ω
- ‚úÖ –£–∫–∞–∑–∞–Ω—ã —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã
- ‚úÖ CORS —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤
- ‚úÖ –ó–∞–ø—Ä–æ—Å—ã —Å –Ω–µ—Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤ –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `server/api/src/main/kotlin/com/company/ipcamera/server/Application.kt`
- `server/api/src/main/kotlin/com/company/ipcamera/server/config/Config.kt` (–¥–æ–±–∞–≤–∏—Ç—å CORS config)

---

### –ó–∞–¥–∞—á–∞ 1.6: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HTTPS

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 3-5 –¥–Ω–µ–π
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** DevOps/Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **Android: –£–¥–∞–ª–∏—Ç—å cleartext traffic**
   - –§–∞–π–ª: `android/app/src/main/AndroidManifest.xml`
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `android:usesCleartextTraffic="false"`
   - –°–æ–∑–¥–∞—Ç—å network security config –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–ª—è debug)

2. **–°–æ–∑–¥–∞—Ç—å network security config –¥–ª—è Android**
   - –§–∞–π–ª: `android/app/src/main/res/xml/network_security_config.xml`
   - –†–∞–∑—Ä–µ—à–∏—Ç—å cleartext —Ç–æ–ª—å–∫–æ –¥–ª—è localhost –≤ debug —Ä–µ–∂–∏–º–µ
   - –í production –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –≤–µ—Å—å cleartext

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å reverse proxy (nginx) –¥–ª—è HTTPS —Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π HTTPS –≤ Ktor
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (Let's Encrypt)

4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ HTTP -> HTTPS**
   - Middleware –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ nginx –∏–ª–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

5. **–î–æ–±–∞–≤–∏—Ç—å HSTS –∑–∞–≥–æ–ª–æ–≤–æ–∫**
   - Strict-Transport-Security: max-age=63072000; includeSubDomains; preload
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ nginx –∏–ª–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

6. **–û–±–Ω–æ–≤–∏—Ç—å Docker compose –¥–ª—è HTTPS**
   - –î–æ–±–∞–≤–∏—Ç—å nginx –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
   - –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Ktor —Å SSL

7. **–û–±–Ω–æ–≤–∏—Ç—å Next.js –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è HTTPS**
   - –í production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS
   - –î–ª—è localhost –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å HTTP –≤ development

8. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ HTTP –∑–∞–ø—Ä–æ—Å—ã –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ HTTPS
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ Cleartext traffic –æ—Ç–∫–ª—é—á–µ–Ω –≤ Android
- ‚úÖ –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ HTTPS
- ‚úÖ HTTP –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ HTTPS
- ‚úÖ HSTS –∑–∞–≥–æ–ª–æ–≤–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ –í—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç TLS 1.2+

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `android/app/src/main/AndroidManifest.xml`
- –°–æ–∑–¥–∞—Ç—å `android/app/src/main/res/xml/network_security_config.xml`
- `server/api/src/main/kotlin/com/company/ipcamera/server/Application.kt`
- `docker-compose.yml`
- `nginx.conf` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è nginx)

---

## –§–∞–∑–∞ 2: –í—ã—Å–æ–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ (–ù–µ–¥–µ–ª–∏ 5-8)

### –ó–∞–¥–∞—á–∞ 2.1: –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –≤ httpOnly cookies

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† –í–´–°–û–ö–ò–ô
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 3-5 –¥–Ω–µ–π
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Full-stack —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–û–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ cookies**
   - –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å login endpoint –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ httpOnly cookies
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–ª–∞–≥–∏ Secure, HttpOnly, SameSite=Strict
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å expires –¥–ª—è refresh token

2. **–û–±–Ω–æ–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç (Next.js)**
   - –£–¥–∞–ª–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ localStorage –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤
   - –û–±–Ω–æ–≤–∏—Ç—å axios interceptor –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å cookies
   - –û–±–Ω–æ–≤–∏—Ç—å authService.ts

3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å refresh token rotation**
   - –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞ –≤—ã–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π refresh token
   - –ò–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–π refresh token
   - –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–ª—É—á–∞–∏ reuse refresh token

4. **–û–±–Ω–æ–≤–∏—Ç—å logout**
   - –û—á–∏—â–∞—Ç—å cookies –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
   - –ò–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å refresh token –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–æ–∫–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ JavaScript
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É refresh token
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å logout

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –¢–æ–∫–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ httpOnly cookies
- ‚úÖ –¢–æ–∫–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ JavaScript
- ‚úÖ Refresh token rotation —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Logout –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—á–∏—â–∞–µ—Ç cookies

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `server/api/src/main/kotlin/com/company/ipcamera/server/routing/AuthRoutes.kt`
- `server/web/src/services/authService.ts`
- `server/web/src/utils/api.ts`

---

### –ó–∞–¥–∞—á–∞ 2.2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ security headers –≤ Next.js

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† –í–´–°–û–ö–ò–ô
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 2-3 –¥–Ω—è
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–°–æ–∑–¥–∞—Ç—å middleware –¥–ª—è security headers**
   - –§–∞–π–ª: `server/web/src/middleware.ts` (–æ–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
   - –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π middleware –¥–ª—è headers

2. **–î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ headers**
   - Content-Security-Policy
   - X-Frame-Options: DENY
   - X-Content-Type-Options: nosniff
   - Referrer-Policy: strict-origin-when-cross-origin
   - Permissions-Policy
   - Strict-Transport-Security (–µ—Å–ª–∏ –Ω–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ nginx)

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å CSP –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
   - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤, —Å—Ç–∏–ª–µ–π, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ CSP
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–Ω–æ

4. **–î–æ–±–∞–≤–∏—Ç—å –≤ next.config.js**
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å headers –≤ next.config.js
   - –ò–ª–∏ middleware (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ)

5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ headers —á–µ—Ä–µ–∑ dev tools
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ CSP –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ª–µ–≥–∏—Ç–∏–º–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSP evaluator

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ security headers —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ CSP –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ Headers –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã —á–µ—Ä–µ–∑ security scanner

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `server/web/src/middleware.ts`
- `server/web/next.config.js`

---

### –ó–∞–¥–∞—á–∞ 2.3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è rate limiting

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† –í–´–°–û–ö–ò–ô
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 1 –Ω–µ–¥–µ–ª—è
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–í—ã–±—Ä–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è rate limiting**
   - –í–∞—Ä–∏–∞–Ω—Ç—ã: Redis-based, in-memory, –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Redis –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
   - –î–æ–±–∞–≤–∏—Ç—å Redis –∫–ª–∏–µ–Ω—Ç
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É rate limiting –¥–ª—è Ktor

3. **–°–æ–∑–¥–∞—Ç—å rate limiter middleware**
   - –§–∞–π–ª: `server/api/src/main/kotlin/com/company/ipcamera/server/middleware/RateLimitMiddleware.kt`
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å sliding window –∏–ª–∏ token bucket –∞–ª–≥–æ—Ä–∏—Ç–º

4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö endpoints**
   - –û–±—â–∏–π –ª–∏–º–∏—Ç: 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
   - Login endpoint: 5 –ø–æ–ø—ã—Ç–æ–∫ –≤ –º–∏–Ω—É—Ç—É
   - Registration: 3 –ø–æ–ø—ã—Ç–∫–∏ –≤ —á–∞—Å
   - –î—Ä—É–≥–∏–µ endpoints –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

5. **–î–æ–±–∞–≤–∏—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∫–ª–∏–µ–Ω—Ç–æ–≤**
   - –ü–æ IP –∞–¥—Ä–µ—Å—É
   - –ü–æ user ID (–µ—Å–ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω)
   - –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–æ–∫—Å–∏ –∏ load balancers (X-Forwarded-For)

6. **–î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞**
   - X-RateLimit-Limit
   - X-RateLimit-Remaining
   - X-RateLimit-Reset

7. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Application**
   - –ü—Ä–∏–º–µ–Ω–∏—Ç—å middleware –∫ –Ω—É–∂–Ω—ã–º –º–∞—Ä—à—Ä—É—Ç–∞–º
   - –ò—Å–∫–ª—é—á–∏—Ç—å public endpoints (health check)

8. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å circuit breaker –≤ –∫–ª–∏–µ–Ω—Ç–µ**
   - –§–∞–π–ª: `core/network/src/commonMain/kotlin/com/company/ipcamera/core/network/CircuitBreaker.kt`
   - –î–æ–±–∞–≤–∏—Ç—å –≤ ApiClient

9. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - Unit —Ç–µ—Å—Ç—ã –¥–ª—è rate limiter
   - Integration —Ç–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
   - –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö endpoints
- ‚úÖ –†–∞–∑–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤
   - ‚úÖ Circuit breaker —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–ª–∏–µ–Ω—Ç–µ
   - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞
   - ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `server/api/build.gradle.kts`
- –°–æ–∑–¥–∞—Ç—å `server/api/src/main/kotlin/com/company/ipcamera/server/middleware/RateLimitMiddleware.kt`
- `server/api/src/main/kotlin/com/company/ipcamera/server/Application.kt`
- `core/network/src/commonMain/kotlin/com/company/ipcamera/core/network/ApiClient.kt`

---

### –ó–∞–¥–∞—á–∞ 2.4: –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† –í–´–°–û–ö–ò–ô
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 1-2 –¥–Ω—è
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** DevOps –∏–Ω–∂–µ–Ω–µ—Ä

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–£–¥–∞–ª–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑ docker-compose.yml**
   - –ó–∞–º–µ–Ω–∏—Ç—å `:-changeme` –Ω–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `:?` —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker secrets**
   - –ò–ª–∏ –≤–Ω–µ—à–Ω–∏–π vault (HashiCorp Vault, AWS Secrets Manager)
   - –ò–ª–∏ .env —Ñ–∞–π–ª (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ git)

3. **–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª–µ–π**
   - –°–∫—Ä–∏–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π
   - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å

4. **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é**
   - –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –î–æ–±–∞–≤–∏—Ç—å –≤ README.md –∏–ª–∏ DEPLOYMENT_GUIDE.md

5. **–°–æ–∑–¥–∞—Ç—å .env.example**
   - –§–∞–π–ª —Å –ø—Ä–∏–º–µ—Ä–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (–±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π)
   - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

6. **–û–±–Ω–æ–≤–∏—Ç—å .gitignore**
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ .env —Ñ–∞–π–ª—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è

7. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –ù–µ—Ç –ø–∞—Ä–æ–ª–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ .env —Ñ–∞–π–ª—ã –≤ .gitignore

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `docker-compose.yml`
- –°–æ–∑–¥–∞—Ç—å `.env.example`
- –û–±–Ω–æ–≤–∏—Ç—å `.gitignore`
- –û–±–Ω–æ–≤–∏—Ç—å `docs/DEPLOYMENT_GUIDE.md`

---

### –ó–∞–¥–∞—á–∞ 2.5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† –í–´–°–û–ö–ò–ô
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 1 –Ω–µ–¥–µ–ª—è
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π InputValidator –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**
   - –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ core/common –º–æ–¥—É–ª—è
   - –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É—é –≤–µ—Ä—Å–∏—é

2. **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ –∫–∞–∂–¥—ã–π endpoint**
   - POST /api/v1/cameras - –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å CreateCameraRequest
   - PUT /api/v1/cameras/{id} - –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å UpdateCameraRequest
   - POST /api/v1/auth/login - –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å LoginRequest
   - –ò —Ç.–¥.

3. **–°–æ–∑–¥–∞—Ç—å DTO –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å kotlinx.serialization validation
   - –ò–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é

4. **–î–æ–±–∞–≤–∏—Ç—å —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ sanitize –∏–∑ InputValidator
   - –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –ë–î

5. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ (email, URL, –∏ —Ç.–¥.)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω —Å—Ç—Ä–æ–∫
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–∏—Å–ª–æ–≤—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤

6. **–í–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏**
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
   - HTTP 400 Bad Request —Å –¥–µ—Ç–∞–ª—è–º–∏

7. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - Unit —Ç–µ—Å—Ç—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤
   - Integration —Ç–µ—Å—Ç—ã –¥–ª—è endpoints
   - –¢–µ—Å—Ç—ã –Ω–∞ SQL –∏–Ω—ä–µ–∫—Ü–∏–∏, XSS

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–∞–Ω–∏—Ç–∏–∑–∏—Ä—É—é—Ç—Å—è –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `server/api/src/main/kotlin/com/company/ipcamera/server/routing/*.kt`
- –°–æ–∑–¥–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –¥–ª—è DTO
- `server/api/src/main/kotlin/com/company/ipcamera/server/dto/*.kt`

---

### –ó–∞–¥–∞—á–∞ 2.6: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† –í–´–°–û–ö–ò–ô
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 1 –Ω–µ–¥–µ–ª—è
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ + Security Engineer

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–æ–±—ã—Ç–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**
   - –ü–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞ (—É—Å–ø–µ—à–Ω—ã–µ –∏ –Ω–µ—É—Å–ø–µ—à–Ω—ã–µ)
   - –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–∞–º–µ—Ä–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ)
   - –û—à–∏–±–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –¥–æ—Å—Ç—É–ø–∞
   - –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏)
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

2. **–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JSON —Ñ–æ—Ä–º–∞—Ç
   - –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è (timestamp, user, action, result, IP, –∏ —Ç.–¥.)
   - –§–∞–π–ª: `server/api/src/main/kotlin/com/company/ipcamera/server/logging/SecurityLogger.kt`

3. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ endpoints**
   - –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ AuthRoutes
   - –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ CameraRoutes
   - –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –¥—Ä—É–≥–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ endpoints

4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**
   - ERROR –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
   - WARN –¥–ª—è –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
   - INFO –¥–ª—è –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

5. **–û–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ª–æ–≥–æ–≤**
   - –ù–ï –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã, –∫–ª—é—á–∏
   - –ú–∞—Å–∫–∏—Ä–æ–≤–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   - –•—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ

6. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–±–æ—Ä –ª–æ–≥–æ–≤**
   - ELK stack, Splunk, –∏–ª–∏ –æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å retention policy

7. **–°–æ–∑–¥–∞—Ç—å dashboard –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
   - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
   - –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –∞–Ω–æ–º–∞–ª–∏—è—Ö

8. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –õ–æ–≥–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã (JSON)
- ‚úÖ –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –ï—Å—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞
- ‚úÖ –ï—Å—Ç—å dashboard –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- –°–æ–∑–¥–∞—Ç—å `server/api/src/main/kotlin/com/company/ipcamera/server/logging/SecurityLogger.kt`
- –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ routing —Ñ–∞–π–ª—ã
- –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –§–∞–∑–∞ 3: –°—Ä–µ–¥–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ (–ù–µ–¥–µ–ª–∏ 9-12)

### –ó–∞–¥–∞—á–∞ 3.1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Android allowBackup

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–Ø–Ø
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 1 –¥–µ–Ω—å
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Android —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è**
   - –û—Ü–µ–Ω–∏—Ç—å, –Ω—É–∂–µ–Ω –ª–∏ backup –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –ï—Å–ª–∏ –Ω–µ—Ç - –æ—Ç–∫–ª—é—á–∏—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é

2. **–ï—Å–ª–∏ backup –Ω–µ –Ω—É–∂–µ–Ω:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `android:allowBackup="false"` –≤ AndroidManifest.xml

3. **–ï—Å–ª–∏ backup –Ω—É–∂–µ–Ω:**
   - –°–æ–∑–¥–∞—Ç—å `android/app/src/main/res/xml/backup_rules.xml`
   - –ò—Å–∫–ª—é—á–∏—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
   - –£–∫–∞–∑–∞—Ç—å –≤ AndroidManifest.xml: `android:fullBackupContent="@xml/backup_rules"`

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å backup —á–µ—Ä–µ–∑ adb
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –≤–∫–ª—é—á–µ–Ω—ã

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ Backup –æ—Ç–∫–ª—é—á–µ–Ω –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –≤–∫–ª—é—á–µ–Ω—ã –≤ backup
- ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `android/app/src/main/AndroidManifest.xml`
- –°–æ–∑–¥–∞—Ç—å `android/app/src/main/res/xml/backup_rules.xml` (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

---

### –ó–∞–¥–∞—á–∞ 3.2: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è iOS –∏ Desktop

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–Ø–Ø
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 1-2 –Ω–µ–¥–µ–ª–∏
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** iOS/Desktop —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **iOS: –ó–∞–≤–µ—Ä—à–∏—Ç—å Keychain —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ TODO –≤ PasswordEncryption.ios.kt
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SecKey API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–µ–π
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã Keychain

2. **Desktop: –ó–∞–≤–µ—Ä—à–∏—Ç—å KeyStore —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Java KeyStore
   - –ò–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º —Å –∑–∞—â–∏—Ç–æ–π

3. **–£–¥–∞–ª–∏—Ç—å –≤—Å–µ TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**
   - –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —á–∞—Å—Ç–∏
   - –î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

4. **–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã**
   - Unit —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
   - Integration —Ç–µ—Å—Ç—ã

5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ TODO –∑–∞–≤–µ—Ä—à–µ–Ω—ã
- ‚úÖ Keychain/KeyStore –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `core/common/src/iosMain/kotlin/com/company/ipcamera/core/common/security/PasswordEncryption.ios.kt`
- `core/common/src/desktopMain/kotlin/com/company/ipcamera/core/common/security/PasswordEncryption.jvm.kt`

---

### –ó–∞–¥–∞—á–∞ 3.3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –ª–∏—Ü–µ–Ω–∑–∏–π

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–Ø–Ø
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 1-2 –Ω–µ–¥–µ–ª–∏
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Backend/Mobile —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∏**
   - RSA-2048 –∏–ª–∏ ECC (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è ECC P-256)
   - –í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –ø–æ–¥–ø–∏—Å–∏ (PKCS#1, PSS, –∏ —Ç.–¥.)

2. **–°–æ–∑–¥–∞—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–≤–æ–π –ø–∞—Ä—ã
   - –ü–æ–¥–ø–∏—Å—å –ª–∏—Ü–µ–Ω–∑–∏–π –ø—Ä–∏ –≤—ã–¥–∞—á–µ
   - –•—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–ø–∏—Å–∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ**
   - –§–∞–π–ª: `core/license/src/commonMain/kotlin/com/company/ipcamera/core/license/LicenseVerifier.kt`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ª–∏—Ü–µ–Ω–∑–∏–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è

4. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É**
   - –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
   - –í–∫–ª—é—á–∞—Ç—å –≤ –ª–∏—Ü–µ–Ω–∑–∏—é
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

5. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ö–µ—à–∞**
   - –í—ã—á–∏—Å–ª—è—Ç—å SHA-256 —Ö–µ—à –ª–∏—Ü–µ–Ω–∑–∏–∏
   - –í–∫–ª—é—á–∞—Ç—å –≤ –ø–æ–¥–ø–∏—Å—å
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

6. **–û–±–Ω–æ–≤–∏—Ç—å LicenseManager**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å checkLicenseIntegrity()
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

7. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - Unit —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏
   - –¢–µ—Å—Ç—ã –Ω–∞ –ø–æ–¥–¥–µ–ª—å–Ω—ã–µ –ª–∏—Ü–µ–Ω–∑–∏–∏
   - –¢–µ—Å—Ç—ã –Ω–∞ –∏—Å—Ç–µ–∫—à–∏–µ –ª–∏—Ü–µ–Ω–∑–∏–∏

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –õ–∏—Ü–µ–Ω–∑–∏–∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã–¥–∞—á–µ
- ‚úÖ –ü–æ–¥–ø–∏—Å—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏–≤—è–∑–∫–∞ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ö–µ—à –∏ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
- ‚úÖ –ü–æ–¥–¥–µ–ª—å–Ω—ã–µ –ª–∏—Ü–µ–Ω–∑–∏–∏ –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `core/license/src/commonMain/kotlin/com/company/ipcamera/core/license/LicenseManager.kt`
- –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª—ã –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ª–∏—Ü–µ–Ω–∑–∏–π

---

### –ó–∞–¥–∞—á–∞ 3.4: –ó–∞—â–∏—Ç–∞ –æ—Ç path traversal –≤ FileSystem

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–Ø–Ø
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 3-5 –¥–Ω–µ–π
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Platform —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø—É—Ç–µ–π –≤–æ –≤—Å–µ FileSystem –æ–ø–µ—Ä–∞—Ü–∏–∏**
   - –§–∞–π–ª—ã: `shared/src/*/kotlin/com/company/ipcamera/shared/common/FileSystem.*.kt`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `..` –≤ –ø—É—Ç–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏

2. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –ø—É—Ç–µ–π**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Path.normalize()` –∏–ª–∏ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø—É—Ç—å –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

3. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –±–∞–∑–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –±–∞–∑–æ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–π –ø—É—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –±–∞–∑—ã

4. **–î–æ–±–∞–≤–∏—Ç—å —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é –ø—É—Ç–µ–π**
   - –£–¥–∞–ª—è—Ç—å –æ–ø–∞—Å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å edge cases

5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - Unit —Ç–µ—Å—Ç—ã –¥–ª—è path traversal –∞—Ç–∞–∫
   - –¢–µ—Å—Ç—ã –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã `../`
   - –¢–µ—Å—Ç—ã –Ω–∞ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ –ø—É—Ç–∏ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è
- ‚úÖ Path traversal –∞—Ç–∞–∫–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `shared/src/androidMain/kotlin/com/company/ipcamera/shared/common/FileSystem.android.kt`
- `shared/src/iosMain/kotlin/com/company/ipcamera/shared/common/FileSystem.ios.kt`
- `shared/src/desktopMain/kotlin/com/company/ipcamera/core/common/security/PasswordEncryption.jvm.kt`

---

### –ó–∞–¥–∞—á–∞ 3.5: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–Ø–Ø
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 2-3 –¥–Ω—è
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–∞–∑–º–µ—Ä–∞ –≤ ApiClient.upload()**
   - –§–∞–π–ª: `core/network/src/commonMain/kotlin/com/company/ipcamera/core/network/ApiClient.kt`
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–∑–º–µ—Ä –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∑–∞–≥—Ä—É–∑–∫–∏
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, 100MB)

2. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**
   - Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ Content-Length
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
   - –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

3. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ MIME type
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–∞
   - Whitelist —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤

4. **–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   - –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤
   - –†–∞–∑–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤

5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –¢–µ—Å—Ç—ã –Ω–∞ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã
   - –¢–µ—Å—Ç—ã –Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤
   - –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –°–µ—Ä–≤–µ—Ä –æ—Ç–∫–ª–æ–Ω—è–µ—Ç —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã
- ‚úÖ –¢–∏–ø —Ñ–∞–π–ª–∞ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `core/network/src/commonMain/kotlin/com/company/ipcamera/core/network/ApiClient.kt`
- –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–æ–∫

---

### –ó–∞–¥–∞—á–∞ 3.6: –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–Ø–Ø
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 2-3 –¥–Ω—è
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö**
   - –§–∞–π–ª: `server/api/src/main/kotlin/com/company/ipcamera/server/routing/AuthRoutes.kt`
   - –û–¥–∏–Ω–∞–∫–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è
   - –û–±—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: "–ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø–∞—Ä–æ–ª—å"

2. **–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É –ø—Ä–∏ –Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö –ø–æ–ø—ã—Ç–∫–∞—Ö**
   - Exponential backoff
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –≤—Å–µ—Ö –Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
   - –ó–∞—â–∏—Ç–∞ –æ—Ç timing attacks

3. **–£–¥–∞–ª–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏–∑ API –æ—Ç–≤–µ—Ç–æ–≤**
   - –ù–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - –ù–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

4. **–î–æ–±–∞–≤–∏—Ç—å –∫–∞–ø—á—É –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫**
   - CAPTCHA –ø–æ—Å–ª–µ 3-5 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
   - –ó–∞—â–∏—Ç–∞ –æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞—Ç–∞–∫

5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –¢–µ—Å—Ç—ã –Ω–∞ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ï—Å—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö –ø–æ–ø—ã—Ç–∫–∞—Ö
- ‚úÖ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ö–∞–ø—á–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ø—ã—Ç–æ–∫

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `server/api/src/main/kotlin/com/company/ipcamera/server/routing/AuthRoutes.kt`

---

## –û–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **Code Review**
   - –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —Å—Ç—Ä–æ–≥–∏–π code review
   - –û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—é

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ security —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
   - Penetration testing –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ security —Å–∫–∞–Ω–µ—Ä—ã –≤ CI/CD

3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
   - –û–±–Ω–æ–≤–ª—è—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
   - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å security best practices
   - –°–æ–∑–¥–∞—Ç—å security guidelines –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
   - –†–µ–≥—É–ª—è—Ä–Ω—ã–π review –ª–æ–≥–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
   - Incident response plan

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

1. **Security —Å–∫–∞–Ω–µ—Ä—ã**
   - OWASP ZAP –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - MobSF –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
   - Snyk –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - SonarQube –¥–ª—è –∫–æ–¥–∞

2. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
   - –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

3. **CI/CD**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ security —Ç–µ—Å—Ç—ã
   - Dependency scanning
   - SAST (Static Application Security Testing)

---

## –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞

```
–ù–µ–¥–µ–ª—è 1-2:  –ó–∞–¥–∞—á–∞ 1.1 - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (—á–∞—Å—Ç—å 1)
–ù–µ–¥–µ–ª—è 2-3:  –ó–∞–¥–∞—á–∞ 1.1 - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (—á–∞—Å—Ç—å 2) + –ó–∞–¥–∞—á–∞ 1.2 - Docker
–ù–µ–¥–µ–ª—è 3-4:  –ó–∞–¥–∞—á–∞ 1.3 - Certificate Pinning + –ó–∞–¥–∞—á–∞ 1.4 - –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
–ù–µ–¥–µ–ª—è 4:    –ó–∞–¥–∞—á–∞ 1.5 - CORS + –ó–∞–¥–∞—á–∞ 1.6 - HTTPS

–ù–µ–¥–µ–ª—è 5:    –ó–∞–¥–∞—á–∞ 2.1 - httpOnly Cookies + –ó–∞–¥–∞—á–∞ 2.2 - Security Headers
–ù–µ–¥–µ–ª—è 6:    –ó–∞–¥–∞—á–∞ 2.3 - Rate Limiting
–ù–µ–¥–µ–ª—è 7:    –ó–∞–¥–∞—á–∞ 2.4 - –ü–∞—Ä–æ–ª–∏ + –ó–∞–¥–∞—á–∞ 2.5 - –í–∞–ª–∏–¥–∞—Ü–∏—è
–ù–µ–¥–µ–ª—è 8:    –ó–∞–¥–∞—á–∞ 2.6 - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ù–µ–¥–µ–ª—è 9:    –ó–∞–¥–∞—á–∞ 3.1 - Backup + –ó–∞–¥–∞—á–∞ 3.2 - –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ (iOS/Desktop)
–ù–µ–¥–µ–ª—è 10:   –ó–∞–¥–∞—á–∞ 3.2 - –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ + –ó–∞–¥–∞—á–∞ 3.3 - –õ–∏—Ü–µ–Ω–∑–∏–∏ (—á–∞—Å—Ç—å 1)
–ù–µ–¥–µ–ª—è 11:   –ó–∞–¥–∞—á–∞ 3.3 - –õ–∏—Ü–µ–Ω–∑–∏–∏ (—á–∞—Å—Ç—å 2) + –ó–∞–¥–∞—á–∞ 3.4 - Path Traversal
–ù–µ–¥–µ–ª—è 12:   –ó–∞–¥–∞—á–∞ 3.5 - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ + –ó–∞–¥–∞—á–∞ 3.6 - –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ù–µ–¥–µ–ª—è 13:   –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, deployment
```

---

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏:** 0
2. **–í—ã—Å–æ–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏:** 0
3. **–°—Ä–µ–¥–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏:** ‚â§ 5 (–ø—Ä–∏–µ–º–ª–µ–º—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
4. **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** ‚â• 80%
5. **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ OWASP Top 10:** –í—Å–µ –ø—É–Ω–∫—Ç—ã –∑–∞–∫—Ä—ã—Ç—ã
6. **Security headers score:** A (Mozilla Observatory)

---

## –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å

- **Security Lead:** –û–±—â–∏–π –Ω–∞–¥–∑–æ—Ä, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- **Backend Team:** –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å, API, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Mobile Team:** –ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, certificate pinning
- **Frontend Team:** –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, security headers, cookies
- **DevOps Team:** Docker, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, deployment
- **QA Team:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, penetration testing

---

**–°–æ—Å—Ç–∞–≤–∏—Ç–µ–ª—å:** Security Team
**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2024
**–í–µ—Ä—Å–∏—è –ø–ª–∞–Ω–∞:** Alfa-0.0.1
**–°–ª–µ–¥—É—é—â–∏–π –ø–µ—Ä–µ—Å–º–æ—Ç—Ä:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –§–∞–∑—ã 1



