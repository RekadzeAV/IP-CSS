# –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ RTSP –∫–ª–∏–µ–Ω—Ç–∞

**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2025
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –ê–∫—Ç–∏–≤–∞—Ü–∏—è iOS —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑ `nativeMain` –≤ `iosMain`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è cinterop –¥–ª—è –≤—ã–∑–æ–≤–∞ –Ω–∞—Ç–∏–≤–Ω—ã—Ö C++ —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –º–µ—Ç–æ–¥—ã: create, connect, disconnect, play, stop, pause
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã callbacks –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞–¥—Ä–æ–≤ –∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤

### 2. –£–ª—É—á—à–µ–Ω–∏–µ cinterop –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `rtsp_client.def` —Ñ–∞–π–ª
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —è–≤–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä (RTSPClient, RTSPStream, RTSPFrame)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ –∏ –ª–∏–Ω–∫–µ—Ä–∞

### 3. –£–ª—É—á—à–µ–Ω–∏–µ Android –∏ JVM —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –±—É–¥—É—â–µ–π JNI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≥–æ—Ç–æ–≤–∫–∏ –¥–ª—è external —Ñ—É–Ω–∫—Ü–∏–π

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ —Ñ–∞–π–ª—ã –ª–∏–Ω—Ç–µ—Ä–æ–º - –æ—à–∏–±–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
- ‚úÖ –í—Å–µ —Ç–∏–ø—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- ‚úÖ Callbacks –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º StableRef

---

## üìä –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º

### Native –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (Linux, macOS, Windows)
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–§–∞–π–ª:** `core/network/src/nativeMain/kotlin/.../NativeRtspClient.native.kt`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** cinterop —Å –Ω–∞—Ç–∏–≤–Ω–æ–π C++ –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** 100%

### iOS –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–§–∞–π–ª:** `core/network/src/iosMain/kotlin/.../NativeRtspClient.ios.kt`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** cinterop —Å –Ω–∞—Ç–∏–≤–Ω–æ–π C++ –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** 100%

### Android –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞, —Ç—Ä–µ–±—É–µ—Ç—Å—è JNI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **–§–∞–π–ª:** `core/network/src/androidMain/kotlin/.../NativeRtspClient.android.kt`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JNI –æ–±–µ—Ä—Ç–∫–∞
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** 30% (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞, –Ω—É–∂–Ω–∞ JNI —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

### JVM –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (Desktop)
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞, —Ç—Ä–µ–±—É–µ—Ç—Å—è JNI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **–§–∞–π–ª:** `core/network/src/jvmMain/kotlin/.../NativeRtspClient.jvm.kt`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JNI –æ–±–µ—Ä—Ç–∫–∞ –∏–ª–∏ Java –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** 30% (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞, –Ω—É–∂–Ω–∞ JNI —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–∞—Ç–∏–≤–Ω–∞—è C++ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `native/video-processing/src/rtsp_client.cpp`
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫:** `native/video-processing/include/rtsp_client.h`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
  - RTSP –ø—Ä–æ—Ç–æ–∫–æ–ª (DESCRIBE, SETUP, PLAY, PAUSE, TEARDOWN)
  - RTP/RTCP –æ–±—Ä–∞–±–æ—Ç–∫–∞
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏–¥–µ–æ –∏ –∞—É–¥–∏–æ –ø–æ—Ç–æ–∫–æ–≤
  - Callbacks –¥–ª—è –∫–∞–¥—Ä–æ–≤ –∏ —Å—Ç–∞—Ç—É—Å–æ–≤
  - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Basic)

### Kotlin –æ–±–µ—Ä—Ç–∫–∞
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `core/network/src/commonMain/kotlin/.../RtspClient.kt`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
  - –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å RTSP
  - Flow –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞–¥—Ä–æ–≤ –∏ —Å—Ç–∞—Ç—É—Å–æ–≤
  - –ö–æ—Ä—É—Ç–∏–Ω—ã –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∫–ª–∏–µ–Ω—Ç–∞

### Cinterop –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **–§–∞–π–ª:** `core/network/src/nativeInterop/cinterop/rtsp_client.def`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã:** Linux, macOS, Windows, iOS

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –î–ª—è Android –∏ JVM –ø–ª–∞—Ç—Ñ–æ—Ä–º:

1. **–°–æ–∑–¥–∞—Ç—å JNI –æ–±–µ—Ä—Ç–∫—É:**
   - –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `native/video-processing/src/jni/rtsp_client_jni.cpp`
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å JNI –º–µ—Ç–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π RTSP –∫–ª–∏–µ–Ω—Ç–∞
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å callbacks —á–µ—Ä–µ–∑ JNIEnv

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–±–æ—Ä–∫—É:**
   - –î–æ–±–∞–≤–∏—Ç—å JNI –æ–±–µ—Ä—Ç–∫—É –≤ CMakeLists.txt
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é –¥–ª—è Android –∏ JVM –ø–ª–∞—Ç—Ñ–æ—Ä–º
   - –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ Kotlin –∫–æ–¥–µ

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –°–æ–∑–¥–∞—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö RTSP –∫–∞–º–µ—Ä–∞—Ö
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É callbacks

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **RTSP Client:** `docs/RTSP_CLIENT.md`
- **Integration Guide:** `docs/INTEGRATION_GUIDE.md`
- **Activation Checklist:** `RTSP_ACTIVATION_CHECKLIST.md`

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è RTSP –∫–ª–∏–µ–Ω—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –¥–ª—è:**
- ‚úÖ Native –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (Linux, macOS, Windows)
- ‚úÖ iOS –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

**–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è:**
- ‚ö†Ô∏è Android (–Ω—É–∂–Ω–∞ JNI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
- ‚ö†Ô∏è JVM/Desktop (–Ω—É–∂–Ω–∞ JNI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏–ª–∏ Java –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** ~80%

---

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –Ω–∞ Native –∏ iOS –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö!** üöÄ

