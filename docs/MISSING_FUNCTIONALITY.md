# –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –Ω–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** –î–µ–∫–∞–±—Ä—å 2025
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** Alfa-0.0.1
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –î–µ–∫–∞–±—Ä—å 2025

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [OnvifClient](#onvifclient)
2. [LicenseManager](#licensemanager)
3. [WebSocketClient](#websocketclient)
4. [RtspClient](#rtspclient)
5. [–°–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏](#—Å–≤—è–∑–∏-—Å-–¥—Ä—É–≥–∏–º–∏-–¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏)

---

## OnvifClient

**–§–∞–π–ª:** `core/network/src/commonMain/kotlin/com/company/ipcamera/core/network/OnvifClient.kt`
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (~40%)
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [ONVIF_CLIENT.md](ONVIF_CLIENT.md)
**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** [INTEGRATION_GUIDE.md](INTEGRATION_GUIDE.md#1-xml-–ø–∞—Ä—Å–∏–Ω–≥-–¥–ª—è-onvif)

### ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –Ω–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

#### 1. WS-Discovery (–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–∞–º–µ—Ä)

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `discoverCameras()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ (–∑–∞–≥–ª—É—à–∫–∞)

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **UDP Multicast –æ—Ç–ø—Ä–∞–≤–∫–∞**
   - –û—Ç–ø—Ä–∞–≤–∫–∞ SOAP Probe –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ `239.255.255.250:3702`
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ IPv4 –∏ IPv6
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
   - –¢–∞–π–º–∞—É—Ç—ã –∏ retry –ª–æ–≥–∏–∫–∞

2. **SOAP Probe –∑–∞–ø—Ä–æ—Å**
   ```xml
   <?xml version="1.0" encoding="UTF-8"?>
   <s:Envelope xmlns:s="http://www.w3.org/2003/05/soap-envelope"
               xmlns:a="http://schemas.xmlsoap.org/ws/2004/08/addressing"
               xmlns:d="http://schemas.xmlsoap.org/ws/2005/04/discovery">
       <s:Header>
           <a:Action>http://schemas.xmlsoap.org/ws/2005/04/discovery/Probe</a:Action>
           <a:MessageID>uuid:...</a:MessageID>
           <a:To>urn:schemas-xmlsoap-org:ws:2005:04:discovery</a:To>
       </s:Header>
       <s:Body>
           <d:Probe>
               <d:Types>dn:NetworkVideoTransmitter</d:Types>
           </d:Probe>
       </s:Body>
   </s:Envelope>
   ```

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ ProbeMatches –æ—Ç–≤–µ—Ç–æ–≤**
   - –ü—Ä–∏–µ–º UDP –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç –∫–∞–º–µ—Ä
   - –ü–∞—Ä—Å–∏–Ω–≥ ProbeMatches XML
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞–º–µ—Ä–∞—Ö (XAddrs, Types, Scopes)
   - –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å —Ç–∞–π–º–∞—É—Ç–æ–º

4. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤**
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (NetworkVideoTransmitter, NetworkVideoDisplay)
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è–º
   - –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- UDP socket –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ Kotlin Multiplatform
- XML –ø–∞—Ä—Å–∏–Ω–≥ –¥–ª—è SOAP –æ—Ç–≤–µ—Ç–æ–≤
- UUID –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è MessageID

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `core/network/src/commonMain/kotlin/com/company/ipcamera/core/network/OnvifClient.kt` (—Å—Ç—Ä–æ–∫–∏ 45-71)
- `shared/src/commonMain/kotlin/com/company/ipcamera/shared/data/repository/CameraRepositoryImpl.kt` (—Å—Ç—Ä–æ–∫–∞ 117-120)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

#### 2. XML –ø–∞—Ä—Å–∏–Ω–≥

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π XML –ø–∞—Ä—Å–µ—Ä**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `kotlinx.serialization.xml` –∏–ª–∏ `ktor-serialization-kotlinx-xml`
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SOAP namespaces
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä

2. **Data –∫–ª–∞—Å—Å—ã –¥–ª—è SOAP –æ—Ç–≤–µ—Ç–æ–≤**
   ```kotlin
   @Serializable
   @XmlSerialName("Envelope", namespace = "http://www.w3.org/2003/05/soap-envelope")
   data class SoapEnvelope(
       @XmlElement(true) val header: SoapHeader?,
       @XmlElement(true) val body: SoapBody
   )

   @Serializable
   @XmlSerialName("Body", namespace = "http://www.w3.org/2003/05/soap-envelope")
   data class SoapBody(
       @XmlElement(true) val capabilities: CapabilitiesResponse?,
       @XmlElement(true) val deviceInformation: DeviceInformationResponse?,
       @XmlElement(true) val fault: SoapFault?
   )
   ```

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ SOAP Fault**
   - –ü–∞—Ä—Å–∏–Ω–≥ –æ—à–∏–±–æ–∫ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
   - –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
   - –ö–æ–¥—ã –æ—à–∏–±–æ–∫

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `io.ktor:ktor-serialization-kotlinx-xml:2.3.5`
- `org.jetbrains.kotlinx:kotlinx-serialization-xml:1.6.0`

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `core/network/src/commonMain/kotlin/com/company/ipcamera/core/network/OnvifClient.kt` (—Å—Ç—Ä–æ–∫–∏ 396-444, 520-533)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

#### 3. Digest Authentication

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –¢–æ–ª—å–∫–æ Basic Authentication

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **–û–±—Ä–∞–±–æ—Ç–∫–∞ WWW-Authenticate –∑–∞–≥–æ–ª–æ–≤–∫–∞**
   - –ü–∞—Ä—Å–∏–Ω–≥ realm, nonce, qop, algorithm
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è response hash
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ MD5 –∏ SHA-256

2. **Digest Auth —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**
   ```kotlin
   private fun createDigestAuthHeader(
       username: String,
       password: String,
       method: String,
       uri: String,
       realm: String,
       nonce: String,
       qop: String? = null
   ): String {
       // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Digest Authentication
   }
   ```

3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ**
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–∑ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞
   - Fallback —Å Digest –Ω–∞ Basic –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–´–°–û–ö–ò–ô

---

#### 4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ ONVIF —Ñ—É–Ω–∫—Ü–∏–∏

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **PTZ —Ñ—É–Ω–∫—Ü–∏–∏:**
   - `AbsoluteMove` - –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
   - `RelativeMove` - –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
   - `GetPresets` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–µ—Å–µ—Ç–æ–≤
   - `SetPreset` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–µ—Å–µ—Ç–∞
   - `GotoPreset` - –ø–µ—Ä–µ—Ö–æ–¥ –∫ –ø—Ä–µ—Å–µ—Ç—É
   - `GetStatus` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ PTZ

2. **Imaging —Ñ—É–Ω–∫—Ü–∏–∏:**
   - `GetImagingSettings` - –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - `SetImagingSettings` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
   - `GetOptions` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–ø—Ü–∏–π

3. **Events —Ñ—É–Ω–∫—Ü–∏–∏:**
   - `Subscribe` - –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
   - `PullMessages` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
   - `GetEventProperties` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ —Å–æ–±—ã—Ç–∏–π

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –°–†–ï–î–ù–ò–ô

---

## LicenseManager

**–§–∞–π–ª:** `core/license/src/commonMain/kotlin/com/company/ipcamera/core/license/LicenseManager.kt`
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (~20%)
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [LICENSE_SYSTEM.md](LICENSE_SYSTEM.md)

### ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –Ω–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

#### 1. –û–Ω–ª–∞–π–Ω –∞–∫—Ç–∏–≤–∞—Ü–∏—è

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `activateOnlineLicense()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É (TODO)

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **HTTP –∑–∞–ø—Ä–æ—Å –∫ –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É**
   - Endpoint: `/api/v1/license/activate` (—Å–º. [API.md](API.md#–ª–∏—Ü–µ–Ω–∑–∏–∏-apiv1license))
   - –û—Ç–ø—Ä–∞–≤–∫–∞ license XML –∏ activation code
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞

2. **–ü–∞—Ä—Å–∏–Ω–≥ license XML**
   - –í–∞–ª–∏–¥–∞—Ü–∏—è XML —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ª–∏—Ü–µ–Ω–∑–∏–∏ (features, limitations, validity)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∏**
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∏ –ª–∏—Ü–µ–Ω–∑–∏–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ø–æ—á–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

4. **–í–∞–ª–∏–¥–∞—Ü–∏—è –ª–∏—Ü–µ–Ω–∑–∏–∏**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π –∏ –ª–∏–º–∏—Ç–æ–≤

5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–∏—Ü–µ–Ω–∑–∏–∏**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `LicenseRepository.saveLicense()`
   - –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ª–∏—Ü–µ–Ω–∑–∏–∏
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `core/license/src/commonMain/kotlin/com/company/ipcamera/core/license/LicenseManager.kt` (—Å—Ç—Ä–æ–∫–∏ 110-117)
- `core/network/src/commonMain/kotlin/com/company/ipcamera/core/network/api/LicenseApiService.kt`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

#### 2. –û—Ñ–ª–∞–π–Ω –∞–∫—Ç–∏–≤–∞—Ü–∏—è

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `activateOfflineLicense()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É (TODO)

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ offline code**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `PlatformCrypto.decryptOfflineCode()`
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –∫–æ–¥–∞ (OFA-XXXX-XXXX-XXXX)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –∫–æ–¥–∞

2. **–í–∞–ª–∏–¥–∞—Ü–∏—è offline code**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –∫–æ–¥–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–π

3. **–°–æ–∑–¥–∞–Ω–∏–µ offline –ª–∏—Ü–µ–Ω–∑–∏–∏**
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è `ActivatedLicense` —Å —Ñ–ª–∞–≥–æ–º `isOffline = true`
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `offlineValidUntil` (–æ–±—ã—á–Ω–æ 30 –¥–Ω–µ–π)
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `requiresOnlineValidation = true`

4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ offline –ª–∏—Ü–µ–Ω–∑–∏–∏**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `LicenseRepository.saveLicense()`
   - –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `core/license/src/commonMain/kotlin/com/company/ipcamera/core/license/LicenseManager.kt` (—Å—Ç—Ä–æ–∫–∏ 119-125)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–´–°–û–ö–ò–ô

---

#### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –ª–∏—Ü–µ–Ω–∑–∏–∏

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `checkLicenseIntegrity()` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true` (TODO)

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∏**
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∏ –ª–∏—Ü–µ–Ω–∑–∏–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ø–æ—á–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–æ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ CA

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ö–µ—à–∞**
   - –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ö–µ—à–∞ –¥–∞–Ω–Ω—ã—Ö –ª–∏—Ü–µ–Ω–∑–∏–∏
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º —Ö–µ—à–µ–º
   - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É**
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ `deviceFingerprint` —Å —Ç–µ–∫—É—â–∏–º
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∂–µ–ª–µ–∑–∞ (HARDWARE_CHANGED)

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `core/license/src/commonMain/kotlin/com/company/ipcamera/core/license/LicenseManager.kt` (—Å—Ç—Ä–æ–∫–∏ 239-243)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

#### 4. –ü–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**Android:**

**–§–∞–π–ª:** `core/license/src/androidMain/kotlin/com/company/ipcamera/core/license/LicenseManager.android.kt`

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **PlatformCrypto.getSecureDeviceFingerprint()**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Android Keystore
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
   - –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å–±—Ä–æ—Å—É –Ω–∞—Å—Ç—Ä–æ–µ–∫

2. **PlatformCrypto.decryptOfflineCode()**
   - –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Android Keystore
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ EncryptedSharedPreferences

3. **PlatformCrypto.schedulePeriodicCheck()**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ WorkManager
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏—Ü–µ–Ω–∑–∏–∏ (—Ä–∞–∑ –≤ –¥–µ–Ω—å)

4. **LicenseRepository.saveLicense() / loadLicense()**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ EncryptedSharedPreferences
   - –ò–ª–∏ Android Keystore –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**iOS:**

**–§–∞–π–ª:** `core/license/src/iosMain/kotlin/com/company/ipcamera/core/license/LicenseManager.ios.kt`

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **PlatformCrypto.getSecureDeviceFingerprint()**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ iOS Keychain
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

2. **PlatformCrypto.decryptOfflineCode()**
   - –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ iOS Keychain
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Security framework

3. **PlatformCrypto.schedulePeriodicCheck()**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Background Tasks
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏—Ü–µ–Ω–∑–∏–∏

4. **LicenseRepository.saveLicense() / loadLicense()**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ iOS Keychain
   - –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**Desktop (Windows/Linux/macOS):**

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **PlatformCrypto** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
2. **LicenseRepository** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â:
   - Windows: Registry –∏–ª–∏ Encrypted File
   - Linux: ~/.config –∏–ª–∏ Encrypted File
   - macOS: Keychain

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
- [INTEGRATION_GUIDE.md](INTEGRATION_GUIDE.md#5-–∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è-–¥–ª—è-–ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏—è)

---

## WebSocketClient

**–§–∞–π–ª:** `core/network/src/commonMain/kotlin/com/company/ipcamera/core/network/WebSocketClient.kt`
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (~80%)
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [WEBSOCKET_CLIENT.md](WEBSOCKET_CLIENT.md)

### ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

#### 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∏–Ω–∞—Ä–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ë–∏–Ω–∞—Ä–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è (—Å—Ç—Ä–æ–∫–∞ 196)

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **–û–±—Ä–∞–±–æ—Ç–∫–∞ Frame.Binary**
   ```kotlin
   is Frame.Binary -> {
       val data = frame.readBytes()
       // –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
       // –ù–∞–ø—Ä–∏–º–µ—Ä: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ñ–∞–π–ª—ã
   }
   ```

2. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤**
   - JSON –≤ –±–∏–Ω–∞—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
   - Protobuf
   - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (JPEG, PNG)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –°–†–ï–î–ù–ò–ô

---

#### 2. –û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **–û—á–µ—Ä–µ–¥—å –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏**
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏

2. **–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è**
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏
   - –û–±—ã—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ø–æ—Ä—è–¥–∫–µ –æ—á–µ—Ä–µ–¥–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –°–†–ï–î–ù–ò–ô

---

#### 3. Rate limiting

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –æ—Ç–ø—Ä–∞–≤–∫–∏**
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Å–µ–∫—É–Ω–¥—É
   - –û—á–µ—Ä–µ–¥—å –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–ò–ó–ö–ò–ô

---

#### 4. –ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **–ú–µ—Ç—Ä–∏–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**
   - Latency (–∑–∞–¥–µ—Ä–∂–∫–∞)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
   - –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

2. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π**
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö/–ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
   - –†–∞–∑–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–ò–ó–ö–ò–ô

---

## RtspClient

**–§–∞–π–ª:** `core/network/src/commonMain/kotlin/com/company/ipcamera/core/network/RtspClient.kt`
**–ù–∞—Ç–∏–≤–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞:** `native/video-processing/src/rtsp_client.cpp`
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (~10%)
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [RTSP_CLIENT.md](RTSP_CLIENT.md)
**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** [INTEGRATION_GUIDE.md](INTEGRATION_GUIDE.md#2-rtsp-–∫–ª–∏–µ–Ω—Ç---–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-live555)

### ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –Ω–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

#### 1. Kotlin –æ–±–µ—Ä—Ç–∫–∞ - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–∞—Ç–∏–≤–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –í—Å–µ –º–µ—Ç–æ–¥—ã —Å–æ–¥–µ—Ä–∂–∞—Ç TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–∞–≥–ª—É—à–∫–∏

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **FFI –±–∏–Ω–¥–∏–Ω–≥–∏ –¥–ª—è Kotlin/Native**
   - –°–æ–∑–¥–∞—Ç—å `.def` —Ñ–∞–π–ª –¥–ª—è cinterop
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é –Ω–∞—Ç–∏–≤–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Kotlin –∫–æ–¥–æ–º

2. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è connect()**
   - –í—ã–∑–æ–≤ `rtsp_client_connect()` –∏–∑ –Ω–∞—Ç–∏–≤–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Ç–æ–∫–æ–≤

3. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è play() / stop() / pause()**
   - –í—ã–∑–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –Ω–∞—Ç–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞

4. **–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–¥—Ä–æ–≤**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ callback –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞–¥—Ä–æ–≤
   - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –Ω–∞—Ç–∏–≤–Ω—ã—Ö –∫–∞–¥—Ä–æ–≤ –≤ Kotlin –æ–±—ä–µ–∫—Ç—ã
   - –≠–º–∏—Å—Å–∏—è –≤ Flow

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `core/network/src/commonMain/kotlin/com/company/ipcamera/core/network/RtspClient.kt` (—Å—Ç—Ä–æ–∫–∏ 129-173, 184-230, 289-343)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

#### 2. –ù–∞—Ç–∏–≤–Ω–∞—è C++ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ - RTSP –ø—Ä–æ—Ç–æ–∫–æ–ª

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç TODO, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–∞–≥–ª—É—à–∫–∏

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**

1. **RTSP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (rtsp_client_connect)**
   - –ü–∞—Ä—Å–∏–Ω–≥ URL (rtsp://host:port/path)
   - TCP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
   - RTSP DESCRIBE –∑–∞–ø—Ä–æ—Å
   - –ü–∞—Ä—Å–∏–Ω–≥ SDP –æ—Ç–≤–µ—Ç–∞
   - RTSP SETUP –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞
   - RTSP PLAY –∑–∞–ø—Ä–æ—Å

2. **RTP/RTCP –æ–±—Ä–∞–±–æ—Ç–∫–∞**
   - –ü—Ä–∏–µ–º RTP –ø–∞–∫–µ—Ç–æ–≤
   - –î–µ–º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ RTCP (SR, RR, BYE)
   - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–æ–≤
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Ç–µ—Ä—å –ø–∞–∫–µ—Ç–æ–≤

3. **–î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - H.264 –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - H.265 –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - AAC –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - PCM –æ–±—Ä–∞–±–æ—Ç–∫–∞

4. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
   - Basic Authentication
   - Digest Authentication

5. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
   - RTSP –æ—à–∏–±–∫–∏ (4xx, 5xx)
   - –°–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏
   - Retry –ª–æ–≥–∏–∫–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É Live555 –∏–ª–∏ FFmpeg

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `native/video-processing/src/rtsp_client.cpp` (—Å—Ç—Ä–æ–∫–∏ 65-108, 129-174)
- `native/video-processing/include/rtsp_client.h`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
- [INTEGRATION_GUIDE.md](INTEGRATION_GUIDE.md#2-rtsp-–∫–ª–∏–µ–Ω—Ç---–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-live555)

---

## –°–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

### –î–æ–∫—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ —ç—Ç–æ—Ç –∞–Ω–∞–ª–∏–∑:

1. **[IMPLEMENTATION_STATUS.md](IMPLEMENTATION_STATUS.md)** - –æ–±—â–∏–π —Å—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
2. **[DEVELOPMENT_PLAN.md](DEVELOPMENT_PLAN.md)** - –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
3. **[INTEGRATION_GUIDE.md](INTEGRATION_GUIDE.md)** - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫
4. **[PLATFORMS.md](PLATFORMS.md)** - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º
5. **[ONVIF_CLIENT.md](ONVIF_CLIENT.md)** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ONVIF –∫–ª–∏–µ–Ω—Ç–∞
6. **[RTSP_CLIENT.md](RTSP_CLIENT.md)** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è RTSP –∫–ª–∏–µ–Ω—Ç–∞
7. **[WEBSOCKET_CLIENT.md](WEBSOCKET_CLIENT.md)** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è WebSocket –∫–ª–∏–µ–Ω—Ç–∞
8. **[LICENSE_SYSTEM.md](LICENSE_SYSTEM.md)** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

- üî¥ **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô** - –±–ª–æ–∫–∏—Ä—É–µ—Ç MVP, –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å
- üü° **–í–´–°–û–ö–ò–ô** - –≤–∞–∂–µ–Ω –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã, —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö
- üü¢ **–°–†–ï–î–ù–ò–ô** - —É–ª—É—á—à–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- üîµ **–ù–ò–ó–ö–ò–ô** - nice-to-have, —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—á–µ—Ä–µ–¥—å

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –î–µ–∫–∞–±—Ä—å 2025

