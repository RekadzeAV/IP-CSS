# –û—Ç—á–µ—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É –ø—Ä–æ–µ–∫—Ç–∞ IP-CSS

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** –Ø–Ω–≤–∞—Ä—å 2025
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** 3.0.0
**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** ~20%

---

## üìä –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞

### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞

1. **–•–æ—Ä–æ—à–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
   - –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –º–æ–¥—É–ª–∏ (shared, core, native, server)
   - Clean Architecture —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ domain, data, presentation —Å–ª–æ–∏
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Kotlin Multiplatform –¥–ª—è –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç–∏
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

2. **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
   - –û–±—à–∏—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `docs/`
   - –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, API, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
   - –°—Ç–∞—Ç—É—Å—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

3. **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**
   - ‚úÖ SQLDelight —Å—Ö–µ–º–∞ –¥–ª—è –∫–∞–º–µ—Ä
   - ‚úÖ CameraRepositoryImpl —Å CRUD –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
   - ‚úÖ 5 Use Cases –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–º–µ—Ä–∞–º–∏
   - ‚úÖ ApiClient (–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)
   - ‚úÖ –ü–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ DatabaseFactory (Android, iOS, Desktop)

4. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**
   - ‚úÖ –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∞ (—Å–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `:core:common`)
   - ‚úÖ Desktop —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã
   - ‚úÖ JVM Target –æ–±–Ω–æ–≤–ª–µ–Ω –¥–æ 11

---

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. üî¥ –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –≤–µ—Ä—Å–∏—è Kotlin

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: **Kotlin 1.9.20** (—Å–µ–Ω—Ç—è–±—Ä—å 2023)
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è: **Kotlin 2.0.0+** (—è–Ω–≤–∞—Ä—å 2025)

**–§–∞–π–ª—ã:**
- `build.gradle.kts` (—Å—Ç—Ä–æ–∫–∞ 2)
- `gradle/libs.versions.toml` (—Å—Ç—Ä–æ–∫–∞ 2)

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —è–∑—ã–∫–∞
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ü—Ä–æ–±–ª–µ–º—ã —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –Ω–æ–≤—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û–±–Ω–æ–≤–∏—Ç—å –¥–æ Kotlin 2.0.0+ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

### 2. üî¥ –û—à–∏–±–∫–∞ –≤ CI/CD –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–§–∞–π–ª:** `.github/workflows/ci.yml` (—Å—Ç—Ä–æ–∫–∞ 37)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```yaml
- name: Dependency Check
  uses: actions/dependency-review-action@v3  # ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```yaml
- name: Dependency Check
  uses: dependency-review-action@v3  # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
```

**–°—Ç–∞—Ç—É—Å:** ‚ùå –¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–µ–ª—ã –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### 1. ‚ùå UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (0%)

**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
- Android UI (Jetpack Compose)
- iOS UI (SwiftUI)
- Desktop UI (Compose Desktop)
- Web UI (React/Next.js)

**–í–ª–∏—è–Ω–∏–µ:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

---

### 2. ‚ùå –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (~10%)

**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
- REST API —Å–µ—Ä–≤–µ—Ä (Ktor/Spring Boot)
- WebSocket —Å–µ—Ä–≤–µ—Ä
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**–í–ª–∏—è–Ω–∏–µ:** API –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ backend

---

### 3. ‚ö†Ô∏è –°–µ—Ç–µ–≤–æ–π —Å–ª–æ–π (~40%)

**–ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ ApiClient - –ø–æ–ª–Ω–æ—Å—Ç—å—é
- ‚ö†Ô∏è OnvifClient - WS-Discovery –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚ö†Ô∏è WebSocketClient - –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –µ—Å—Ç—å (~80%)
- ‚ö†Ô∏è RtspClient - —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ω–∞—Ç–∏–≤–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π (~10%)

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–µ–ª—ã:**
- `discoverCameras()` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, –Ω–æ WS-Discovery —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (—á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- `testConnection()` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç OnvifClient.testConnection())
- –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π XML –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ regex (–Ω—É–∂–µ–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä)
- Digest Authentication –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

---

### 4. ‚ùå –ù–∞—Ç–∏–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (~5%)

**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è C++ —Ñ–∞–π–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ CMake)
- FFI –±–∏–Ω–¥–∏–Ω–≥–∏ –¥–ª—è Kotlin/Native
- RTSP –ø—Ä–æ—Ç–æ–∫–æ–ª (—Ç—Ä–µ–±—É–µ—Ç—Å—è Live555 –∏–ª–∏ FFmpeg)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenCV/TensorFlow Lite

**–í–ª–∏—è–Ω–∏–µ:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ –∏ AI-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞

---

### 5. ‚ö†Ô∏è –õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏–µ (~20%)

**–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –û–Ω–ª–∞–π–Ω –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ª–∏—Ü–µ–Ω–∑–∏–π
- –û—Ñ–ª–∞–π–Ω –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ª–∏—Ü–µ–Ω–∑–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –ª–∏—Ü–µ–Ω–∑–∏–π
- –ü–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è (Android Keystore, iOS Keychain)

---

## üìà –°—Ç–∞—Ç—É—Å –ø–æ –º–æ–¥—É–ª—è–º

| –ú–æ–¥—É–ª—å | –ü—Ä–æ–≥—Ä–µ—Å—Å | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|--------|----------|--------|------------|
| –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | ~70% | ‚úÖ –•–æ—Ä–æ—à–æ | –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, Gradle –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |
| –î–æ–º–µ–Ω–Ω—ã–π —Å–ª–æ–π | ~30% | üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ | 5 Use Cases, –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö |
| –°–ª–æ–π –¥–∞–Ω–Ω—ã—Ö | ~50% | üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ | SQLDelight —Å—Ö–µ–º—ã, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è –∫–∞–º–µ—Ä |
| –°–µ—Ç–µ–≤–æ–π —Å–ª–æ–π | ~40% | üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ | ApiClient –≥–æ—Ç–æ–≤, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏—á–Ω–æ |
| –õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏–µ | ~20% | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ | –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –µ—Å—Ç—å |
| UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | 0% | ‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ | –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP |
| –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å | ~10% | ‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ | –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP |
| –ù–∞—Ç–∏–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ | ~5% | ‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ | –¢–æ–ª—å–∫–æ CMake –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | ~15% | üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ | –ë–∞–∑–æ–≤—ã–µ unit —Ç–µ—Å—Ç—ã |

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–ª—è MVP)

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å CI/CD –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**
   - –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç `dependency-review-action` –≤ `.github/workflows/ci.yml`

2. **–ó–∞–≤–µ—Ä—à–∏—Ç—å OnvifClient**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å WS-Discovery (UDP multicast)
   - –£–ª—É—á—à–∏—Ç—å XML –ø–∞—Ä—Å–∏–Ω–≥ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `kotlinx.serialization.xml`)
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `CameraRepositoryImpl.discoverCameras()`

3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å testConnection()**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OnvifClient –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
   - –î–æ–±–∞–≤–∏—Ç—å fallback –Ω–∞ RTSP –ø—Ä–æ–≤–µ—Ä–∫—É
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `CameraRepositoryImpl.testConnection()`

4. **–°–æ–∑–¥–∞—Ç—å REST API —Å–µ—Ä–≤–µ—Ä**
   - –ú–æ–¥—É–ª—å `server/api` —Å Ktor
   - –ë–∞–∑–æ–≤—ã–µ endpoints –¥–ª—è –∫–∞–º–µ—Ä (`/api/cameras`)
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

5. **–ù–∞—á–∞—Ç—å Android UI**
   - –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å `android/app`
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —ç–∫—Ä–∞–Ω—ã (—Å–ø–∏—Å–æ–∫ –∫–∞–º–µ—Ä, –¥–µ—Ç–∞–ª–∏, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ)

---

### –í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è (2-4 –Ω–µ–¥–µ–ª–∏)

6. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å RTSP –∫–ª–∏–µ–Ω—Ç**
   - –ó–∞–≤–µ—Ä—à–∏—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–π C++ RTSP –∫–ª–∏–µ–Ω—Ç
   - –°–æ–∑–¥–∞—Ç—å Kotlin –æ–±–µ—Ä—Ç–∫—É —á–µ—Ä–µ–∑ FFI
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –≤–∏–¥–µ–æ–ø–ª–µ–µ—Ä–æ–º

7. **–ó–∞–≤–µ—Ä—à–∏—Ç—å Android UI**
   - –í–∏–¥–µ–æ–ø–ª–µ–µ—Ä –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ RTSP –ø–æ—Ç–æ–∫–∞
   - –ù–∞–≤–∏–≥–∞—Ü–∏—è
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API

8. **iOS UI**
   - –°–æ–∑–¥–∞—Ç—å Xcode –ø—Ä–æ–µ–∫—Ç
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —ç–∫—Ä–∞–Ω—ã

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–¢–µ–∫—É—â–∏–µ –≤–µ—Ä—Å–∏–∏:**
- Kotlin: 1.9.20 (‚ö†Ô∏è —É—Å—Ç–∞—Ä–µ–ª–∞)
- Ktor: 2.3.5
- SQLDelight: 2.0.0
- Coroutines: 1.7.3
- Kotlinx Serialization: 1.6.0

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û–±–Ω–æ–≤–∏—Ç—å Kotlin –¥–æ 2.0.0+ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

---

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π

```
:core:common (–±–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã)
    ‚Üë
    ‚îú‚îÄ‚îÄ :shared
    ‚îÇ     ‚Üì
    ‚îÇ   :core:network (—á–µ—Ä–µ–∑ :shared)
    ‚îÇ
    ‚îî‚îÄ‚îÄ :core:network (–Ω–∞–ø—Ä—è–º—É—é)
    ‚îî‚îÄ‚îÄ :core:license
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–µ—à–µ–Ω—ã

---

### TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ

**–ù–∞–π–¥–µ–Ω–æ 107+ TODO/FIXME –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤**, –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏:

1. **RtspClient** - –≤—Å–µ –º–µ—Ç–æ–¥—ã —Ç—Ä–µ–±—É—é—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ω–∞—Ç–∏–≤–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π
2. **OnvifClient** - WS-Discovery, XML –ø–∞—Ä—Å–∏–Ω–≥, Digest Auth
3. **LicenseManager** - –æ–Ω–ª–∞–π–Ω/–æ—Ñ–ª–∞–π–Ω –∞–∫—Ç–∏–≤–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
4. **CameraRepositoryImpl** - discoverCameras(), testConnection()
5. **–ù–∞—Ç–∏–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** - –≤—Å–µ C++ —Ñ–∞–π–ª—ã —Ç—Ä–µ–±—É—é—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üîç –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã

**–§–∞–π–ª:** `CameraRepositoryImpl.kt`
- `extractIpFromUrl()` - –æ–±—ä—è–≤–ª–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- `extractPortFromUrl()` - –æ–±—ä—è–≤–ª–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –õ–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –ª–∏–±–æ —É–¥–∞–ª–∏—Ç—å

---

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

**–§–∞–π–ª:** `CameraRepositoryImpl.kt`

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```kotlin
val engine = createHttpClientEngine()
val onvifClient = OnvifClient(engine)
try {
    // ...
} finally {
    onvifClient.close()
    engine.close()
}
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `use()` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è:
```kotlin
createHttpClientEngine().use { engine ->
    OnvifClient(engine).use { onvifClient ->
        // ...
    }
}
```

---

### 3. Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–§–∞–π–ª:** `docker-compose.yml`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—Ä–∞–∑ `company/ip-camera-surveillance:latest`, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –õ–∏–±–æ —É–¥–∞–ª–∏—Ç—å –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞, –ª–∏–±–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –æ–±—Ä–∞–∑–∞–º–∏

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚úÖ –û–±—à–∏—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (20+ —Ñ–∞–π–ª–æ–≤ –≤ `docs/`)
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- ‚úÖ –°—Ç–∞—Ç—É—Å—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ –æ—Ç–ª–∏—á–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –Ω–µ–¥–µ–ª–∏)

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å CI/CD –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
2. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å Kotlin –¥–æ 2.0.0+ (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
3. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å WS-Discovery –≤ OnvifClient
4. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å testConnection()
5. ‚úÖ –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π REST API —Å–µ—Ä–≤–µ—Ä

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (1-2 –º–µ—Å—è—Ü–∞)

6. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Android UI
7. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å RTSP –∫–ª–∏–µ–Ω—Ç
8. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å iOS UI
9. ‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (3+ –º–µ—Å—è—Ü–∞)

10. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
11. ‚úÖ AI-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞
12. ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
13. ‚úÖ Desktop –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

- **–í—Å–µ–≥–æ –º–æ–¥—É–ª–µ–π:** 4 (shared, core:common, core:license, core:network)
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö Use Cases:** 5 –∏–∑ ~30+ (16%)
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤:** 1 –∏–∑ 7 (14%)
- **UI –ø–ª–∞—Ç—Ñ–æ—Ä–º:** 0 –∏–∑ 4 (0%)
- **–¢–µ—Å—Ç–æ–≤:** ~15% –ø–æ–∫—Ä—ã—Ç–∏—è

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ **–Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** —Å —Ö–æ—Ä–æ—à–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π –æ—Å–Ω–æ–≤–æ–π –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π. –û—Å–Ω–æ–≤–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Ä–µ—à–µ–Ω—ã (—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, Desktop —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏).

**–ì–ª–∞–≤–Ω—ã–µ –±–ª–æ–∫–µ—Ä—ã –¥–ª—è MVP:**
1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏
3. –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã discoverCameras() –∏ testConnection()

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å CI/CD –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
2. –ó–∞–≤–µ—Ä—à–∏—Ç—å OnvifClient (WS-Discovery)
3. –°–æ–∑–¥–∞—Ç—å REST API —Å–µ—Ä–≤–µ—Ä
4. –ù–∞—á–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É Android UI

–ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç —Ö–æ—Ä–æ—à–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –±–ª–∞–≥–æ–¥–∞—Ä—è –ø—Ä–æ–¥—É–º–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ.

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –Ø–Ω–≤–∞—Ä—å 2025
